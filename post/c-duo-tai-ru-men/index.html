<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Jenkins&#39; Secret Base</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content=""/>
<meta name="keywords" content=""/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://jenkinsxu.github.io/favicon.ico">

<link rel="stylesheet" href="https://jenkinsxu.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://jenkinsxu.github.io/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://jenkinsxu.github.io/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://jenkinsxu.github.io/images/avatar.png" alt="Jenkins&#39; Secret Base"
                 class="img-responsive">
        </figure>
        <a href="https://jenkinsxu.github.io/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>Jenkins&#39; Secret Base</h2>
        <p></p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- æ ‡ç­¾ -->
        <div class="fh5co-box">
            <a href="https://jenkinsxu.github.io/tags/"><h3 class="heading">ğŸ‘‰æ ‡ç­¾</h3></a>
            <ul>
                
                    <li><a href="https://jenkinsxu.github.io/tag/SJx_LO8XV/">Java</a></li>
                
                    <li><a href="https://jenkinsxu.github.io/tag/7B5LxGodg/">App Development with Swift</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            Home
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            Tags
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            About
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://jenkinsxu.github.io">Jenkins&#39; Secret Base </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

    <!-- ç­‰grideaå‡ºè‡ªå®šä¹‰é¡µé¢åŠŸèƒ½å†ä¼˜åŒ–ä¸€ä¸‹ -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
            </span>
            <h2 class="fh5co-article-title animate-box">C++ å¤šæ€å…¥é—¨</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2020-04-01</li>
                <li>3475words</li>
                <li>16 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <h2 id="å¤šæ€çš„ä½œç”¨ä¸æƒ…æ™¯">å¤šæ€çš„ä½œç”¨ä¸æƒ…æ™¯</h2>
<p>å‡è®¾ä¸€ä¸ªæƒ…æ™¯ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡ C++ Classes å»ä»£è¡¨å½¢çŠ¶ã€‚</p>
<ul>
<li>å‡è®¾å¯èƒ½å‡ºç°çš„å½¢çŠ¶æœ‰ <code>Rectangle</code> <code>Triangle</code> ä»¥åŠ <code>Circle</code>ä¸‰ç§ï¼›</li>
<li>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸ºæ¯ä¸€ä¸ªå½¢çŠ¶éƒ½åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ Classï¼›</li>
<li>æˆ‘ä»¬æƒ³è¦åˆ›å»ºä¸€ä¸ªçˆ¶ç±» <code>Shape</code>ï¼ŒåŒ…å«å„ç§å½¢çŠ¶çš„å…±åŒå±æ€§ï¼Œæ¯”å¦‚èƒ½å¤Ÿæ±‚é¢ç§¯ã€è¾“å‡ºè‡ªå·±çš„åå­—ç­‰ã€‚å®ƒå¯ä»¥è¢«ç†è§£ä¸ºä¸€ä¸ªåŒ…å«äº†ä»»æ„çš„å½¢çŠ¶éƒ½èƒ½åšçš„äº‹ä»¶çš„ç±»ï¼Œä¸€ä¸ªå±‚æ¬¡æ›´é«˜çš„ã€æ›´æŠ½è±¡çš„ç±»ï¼›</li>
</ul>
<p>ç”¨ä½œæµ‹è¯•çš„ <code>main()</code> å‡½æ•°å’Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-C++">class Shape
{
public:
	float getArea() const
	{
		// æˆ‘ä»¬ä¸çŸ¥é“å…·ä½“å½¢çŠ¶çš„æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥æš‚æ—¶å…ˆè¿”å› 0
		return 0;
	}
	void printName() const
	{
		cout &lt;&lt; &quot;Shape: I don't know my shape :( &quot; &lt;&lt; endl;
	}
}
// å†’å·è¡¨ç¤ºç»§æ‰¿
class Rectangle : public Shape
{
private:
	float width, height;
public: 
	// è¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„å†™æ„é€ å‡½æ•°çš„æ–¹æ³•ï¼Œå¯ä»¥èŠ‚çœä»£ç 
	Rectangle() : width(0), height(0){}
	Rectangle(float w, float h) : width(w), height(h){}
	// const è¡¨ç¤ºè¿™ä¸ªå‡½æ•°ä¸ä¼šæ›´æ”¹ä»»ä½•çš„æˆå‘˜å˜é‡å€¼ï¼Œä¸€ä½†åœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢å°è¯•æ›´æ”¹ä¸€ä¸ªæˆå‘˜å˜é‡å€¼ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚åŠ ä¸Š const æ˜¯ä¸€ç§è‰¯å¥½çš„ä¹ æƒ¯ï¼Œèƒ½å¤Ÿé˜²æ­¢ä¸å°å¿ƒæ›´æ”¹äº†æ•°å€¼é€ æˆé€»è¾‘é”™è¯¯ã€‚ç›¸æ¯”é€»è¾‘é”™è¯¯ï¼ˆèƒ½è¿è¡Œä½†æ˜¯å‡ºç°é”™è¯¯çš„ç»“æœï¼‰ï¼Œç¼–è¯‘é”™è¯¯æ˜¯æ›´å®¹æ˜“è¢«æ£€æµ‹å¹¶æ•æ‰åˆ°çš„ã€‚
	float getArea() const {return width * height;}
	void printName() const {cout &lt;&lt; &quot;Shape: Rectangle&quot; &lt;&lt; endl;}
}

class Triangle : public Shape
{
private:
	float side1, side2, side3;
public: 
	// é»˜è®¤æ„é€ å‡½æ•°: æ²¡æœ‰å‚æ•°çš„æ—¶å€™çš„é»˜è®¤ä¸‰è§’å½¢
	Triangle() : side1(1.0), side2(1.0), side3(sqrt(2.0)){}
	// éé»˜è®¤æ„é€ å‡½æ•°
	Triangle(float s1, float s2, float s3) : side1(s1), side2(s2), side3(s3){}
	float getArea() const 
	{
		float s = (side1 + side2 + side3) / 2.0;
		return sqrt(s * (s-side1) * (s-side2) * (s-side3));
	}
	void printName() const {cout &lt;&lt; &quot;Shape: Triangle&quot; &lt;&lt; endl;}
}

class Rectangle : public Shape
{
private:
	float radius;
public: 
	Rectangle() : radius(1.0){}
	Rectangle(float r) : radius(r){}
	float getArea() const {return 3.14 * radius * radius;}
	void printName() const {cout &lt;&lt; &quot;Shape: Circle&quot; &lt;&lt; endl;}
}

int main() 
{
	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ã€ä¸€ä¸ªæ–¹å½¢ã€ä¸€ä¸ªä¸‰è§’å½¢å’Œä¸€ä¸ªåœ†å½¢çš„å¯¹è±¡
	Shape s;
	Rectangle r(4.0, 5.0);
	Triangle t;
	Circle c(2.0);

	// è¾“å‡ºåå­—å’Œé¢ç§¯
	s.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; s.getArea() &lt;&lt; endl &lt;&lt; endl;

	r.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; r.getArea() &lt;&lt; endl &lt;&lt; endl;

	t.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; t.getArea() &lt;&lt; endl &lt;&lt; endl;

	c.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; c.getArea() &lt;&lt; endl &lt;&lt; endl;

	cout &lt;&lt; endl;
	system(&quot;Pause&quot;);
	return 0;
}
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªå­ç±»éƒ½å…·æœ‰æˆå‘˜å˜é‡ä»¥åŠæˆå‘˜å‡½æ•°ã€‚ä½†æ˜¯çˆ¶ç±»æ²¡æœ‰ä»»ä½•çš„æˆå‘˜å˜é‡ï¼Œå› ä¸ºå½¢çŠ¶æ˜¯ä¸€ä¸ª<strong>æŠ½è±¡</strong>çš„æ¦‚å¿µï¼Œæˆ‘ä»¬å¾ˆéš¾å®šä¹‰å®ƒå…·ä½“çš„å±æ€§ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åœ¨å®ƒçš„ å‡½æ•° é‡Œ return 0 å’Œ cout â€œI don't knowâ€ çš„åŸå› ã€‚åä¹‹ï¼Œå¯¹äºä¸€ä¸ªå…·ä½“çš„å›¾å½¢ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å®ƒçš„é¢ç§¯ï¼Œæˆ–è€…æ˜¯å«å‡ºå®ƒæ˜¯ä»€ä¹ˆåå­—ã€‚æ‰€æœ‰çš„å­ç±»éƒ½é‡å®šä¹‰ï¼ˆre-defineï¼‰äº† <code>getArea()</code> å’Œ <code>printName()</code> è¿™ä¸¤ä¸ªæ¥è‡ªäº <code>Shape</code> çš„æˆå‘˜å‡½æ•°ï¼Œæ¥è¾“å‡ºæ­£ç¡®çš„ä¿¡æ¯ã€‚</p>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>Shape: 	I don't know my shape :(
			Area = 0
Shape: 	Rectangle
			Area = 20
Shape: 	Triangle
			Area = 0.5
Shape: 	Circle
			Area = 12.56
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬æ¥å¯¹åˆšæ‰çš„ <code>main()</code> è¿›è¡Œä¸€äº›è°ƒæ•´ï¼š</p>
<pre><code class="language-C++">int main() 
{
	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ã€ä¸€ä¸ªæ–¹å½¢ã€ä¸€ä¸ªä¸‰è§’å½¢å’Œä¸€ä¸ªåœ†å½¢çš„ å¯¹è±¡
	Rectangle r(4.0, 5.0);
	Triangle t;
	Circle c(2.0);

	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶
	Shape s;

	// æŠŠ r èµ‹å€¼ç»™ s ç„¶åå† print
	s = r;
	s.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; r.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = t;
	s.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; t.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = c;
	s.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; c.getArea() &lt;&lt; endl &lt;&lt; endl;

	cout &lt;&lt; endl;
	system(&quot;Pause&quot;);
	return 0;
}
</code></pre>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
</code></pre>
<p>çªç„¶é—´æ‰€æœ‰çš„å¯¹è±¡éƒ½å¤±å»äº†è‡ªå·±çš„å†…å®¹ï¼Œå› ä¸ºè¿™äº›å†…å®¹éƒ½åœ¨ç±»å‹è½¬æ¢åˆ° <code>Shape</code> çš„è¿‡ç¨‹ä¸­ä¸¢å¤±äº†ã€‚æˆ‘ä»¬æ–°çš„é—®é¢˜æ˜¯å¦‚ä½•æŠŠ<code>Rectangle</code>ï¼Œ<code>Triangle</code>å’Œ <code>Circle</code> å‚¨å­˜åœ¨ <code>Shape</code> ç±»å‹é‡Œæœ‰ä¸è‡³äºä¸¢å¤±æ•°æ®å‘¢ï¼Ÿ</p>
<p>æ¥å°è¯•ä¸€ä¸‹æŒ‡é’ˆï¼Ÿ</p>
<p>æˆ‘ä»¬æ¥æ–°å»ºä¸€ä¸ª <code>Shape*</code> å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª <code>Shape</code> å¯¹è±¡ã€‚<br>
<code>Shape *pShape</code></p>
<p>æŠŠæ¯ä¸ªå½¢çŠ¶å¯¹è±¡çš„åœ°å€éƒ½å¤åˆ¶åˆ°é‡Œé¢ï¼š</p>
<pre><code class="language-C++">int main() 
{
	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ã€ä¸€ä¸ªæ–¹å½¢ã€ä¸€ä¸ªä¸‰è§’å½¢å’Œä¸€ä¸ªåœ†å½¢çš„ å¯¹è±¡
	Rectangle r(4.0, 5.0);
	Triangle t;
	Circle c(2.0);

	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶
	Shape *pShape;

	// æŠŠ r èµ‹å€¼ç»™ s ç„¶åå† print
	s = &amp;r;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; r.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = &amp;t;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; t.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = &amp;c;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; c.getArea() &lt;&lt; endl &lt;&lt; endl;

	cout &lt;&lt; endl;
	system(&quot;Pause&quot;);
	return 0;
}
</code></pre>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
</code></pre>
<p>ç»“æœå¹¶æ²¡æœ‰æ”¹å˜ã€‚ä½†è¿™æ¬¡é—®é¢˜å‡ºç°çš„åŸå› <strong>å¹¶ä¸æ˜¯å› ä¸ºç±»å‹è½¬æ¢</strong>ã€‚<br>
è¿™é‡Œæœ‰ä¸‰ä¸ª å¯¹è±¡sï¼šr, t å’Œ cï¼Œä»–ä»¬çš„ç±»å‹å¹¶æ²¡æœ‰å‡ºç°æ”¹å˜ï¼ˆæˆ‘ä»¬æ²¡æœ‰å¯¹ä»–ä»¬è¿›è¡Œè½¬æ¢ï¼Œè€Œåªæ˜¯ç”¨ Shape çš„æŒ‡é’ˆå‚¨å­˜äº†ä»–ä»¬çš„åœ°å€ï¼‰ã€‚é—®é¢˜åœ¨äºå› ä¸º <code>pShape</code> æ˜¯ <code>Shape</code> ç±»å‹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥åœ¨å®ƒè°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¹Ÿåªä¼šè°ƒç”¨ <code>Shape</code> å½“ä¸­çš„å‡½æ•°ï¼Œè€Œä¸ä¼šè°ƒç”¨å­ç±»ä¸­å·²ç»ç»è¿‡é‡å®šä¹‰çš„å‡½æ•°ã€‚</p>
<p>ä½ å¯èƒ½åœ¨æƒ³ä¸ºä»€ä¹ˆè¦æŠŠ <code>Retangle</code> å•¥çš„å­˜åˆ° <code>Shape</code> é‡Œé¢è¿™ä¹ˆæŠ˜è…¾ï¼Œè€Œä¸ç›´æ¥ç”¨ä»–ä»¬è‡ªå·±å„è‡ªçš„ç±»æ¥å‚¨å­˜ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ç™¾å¤šä¸ªä¸åŒçš„å½¢çŠ¶ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ä¸€ä¸ªä¸ªå˜é‡åœ°å‚¨å­˜è¿™äº›æ•°æ®ã€‚æˆ‘ä»¬è¦åšçš„æ˜¯å»ºç«‹ä¸€ä¸ªæ•°ç»„ï¼ŒæŠŠæ‰€æœ‰çš„<strong>å½¢çŠ¶å¯¹è±¡</strong>éƒ½æ”¾åœ¨é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ•°ç»„çš„ç±»å‹å°±åº”è¯¥æ˜¯<code>Shape</code>çš„æ•°ç»„ï¼š</p>
<pre><code class="language-C++">int main()
{
	const int SIZE = 5;
	Shape myShape[size];
	
	myShape[0] = Rectangle(4.0, 5.0);
	myShape[1] = Triangle();
	myShape[2] = Circle(2.0);
	myShape[3] = Shape();
	myShape[4] = Circle(2.8);

	for (int i = 0; i &lt; SIZE; i++)
	{
		myShape[i].printName();
		cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; myShape[i].getArea() &lt;&lt; endl &lt;&lt; endl;
	}
	cout &lt;&lt; endl;
	system(&quot;Pause&quot;);
	return 0;
}
</code></pre>
<p>ä½†ä½ å¯èƒ½å·²ç»çŒœåˆ°ç»“æœï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½è¢«ç±»å‹è½¬æ¢ç ´åäº†ï¼Œä¸”æ— è®ºé™æ€æ•°ç»„è¿˜æ˜¯åŠ¨æ€æ•°ç»„éƒ½ä¼šå‡ºç°ç±»å‹è½¬æ¢çš„é—®é¢˜ï¼š</p>
<pre><code>Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
</code></pre>
<p>è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•å°±æ˜¯å¤šæ€ï¼ˆpolymorphismï¼‰ï¼šè¡ç”Ÿç±»å‹çš„å¯¹è±¡è°ƒç”¨è‡ªå·±çš„å‡½æ•°ï¼ŒåŒæ—¶èƒ½å¤ŸæŠŠä»–ä»¬å‚¨å­˜åœ¨çˆ¶ç±»ç±»å‹çš„æ•°ç»„é‡Œã€‚</p>
<p>è¦è¾¾åˆ°å¤šæ€ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨çˆ¶ç±»å½“ä¸­æŠŠéœ€è¦è¢«å­ç±»é‡å®šä¹‰å¹¶è°ƒç”¨çš„å‡½æ•°æ ‡æ³¨æˆ <code>virtual</code>ï¼Œæ–¹æ³•æ˜¯åœ¨å£°æ˜ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™åœ¨å‰é¢åŠ ä¸Š <code>virtual</code> è¿™ä¸ªå…³é”®è¯ã€‚</p>
<p>é©¬ä¸Šæ¥è¯•éªŒä¸€ä¸‹ã€‚ä½œä¸ºå¯¹æ¯”ï¼Œæˆ‘ä»¬å…ˆæš‚æ—¶ä¸æŠŠ <code>.getArea()</code> è€Œåªæ˜¯ <code>.printName()</code> æ ‡è®° <code>virtual</code>ã€‚<br>
æ›´æ”¹åçš„ <code>Shape</code> ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-C++">class Shape
{
public:
	// ä½œä¸ºå¯¹æ¯”ï¼Œæˆ‘ä»¬å…ˆæš‚æ—¶ä¸ä¸º .getArea() æ ‡è®° virtual
	float getArea() const
	{
		// æˆ‘ä»¬ä¸çŸ¥é“å…·ä½“å½¢çŠ¶çš„æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥æš‚æ—¶å…ˆè¿”å› 0
		return 0;
	}

	virtual void printName() const
	{
		cout &lt;&lt; &quot;Shape: I don't know my shape :( &quot; &lt;&lt; endl;
	}
}
</code></pre>
<pre><code class="language-C++">int main() 
{
	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ã€ä¸€ä¸ªæ–¹å½¢ã€ä¸€ä¸ªä¸‰è§’å½¢å’Œä¸€ä¸ªåœ†å½¢çš„ å¯¹è±¡
	Rectangle r(4.0, 5.0);
	Triangle t;
	Circle c(2.0);

	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶
	Shape *pShape;

	// æŠŠ r èµ‹å€¼ç»™ s ç„¶åå†è¾“å‡º
	s = &amp;r;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; r.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = &amp;t;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; t.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = &amp;c;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; c.getArea() &lt;&lt; endl &lt;&lt; endl;

	cout &lt;&lt; endl;
	system(&quot;Pause&quot;);
	return 0;
}
</code></pre>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>Shape: 	I don't know my shape :(
			Area = 0
Shape: 	Rectangle
			Area = 0
Shape: 	Triangle
			Area = 0
Shape: 	Circle
			Area = 0
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¢«æ ‡è®°æˆ virtual çš„å‡½æ•°å·²ç»èƒ½å¤Ÿè¢«æ­£ç¡®è¯†åˆ«ï¼Œæ²¡æœ‰è°ƒç”¨çˆ¶ç±»æçš„<code>printName()</code> å‡½æ•°ï¼Œè€Œæ˜¯è°ƒç”¨åˆ°äº†å­é›†å½“ä¸­é‡å®šä¹‰åæ­£ç¡®çš„å‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬æ¥æŠŠä¸¤ä¸ªå‡½æ•°éƒ½æ ‡æ³¨ä¸Š virtualï¼š</p>
<pre><code class="language-C++">class Shape
{
public:
	// ä½œä¸ºå¯¹æ¯”ï¼Œæˆ‘ä»¬å…ˆæš‚æ—¶ä¸æŠŠ .getArea() æ”¹æˆ virtual
	virtual float getArea() const
	{
		// æˆ‘ä»¬ä¸çŸ¥é“å…·ä½“å½¢çŠ¶çš„æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥æš‚æ—¶å…ˆè¿”å› 0
		return 0;
	}

	virtual void printName() const
	{
		// æˆ‘ä»¬ä¸çŸ¥é“å…·ä½“å½¢çŠ¶æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥æš‚æ—¶å…ˆéšä¾¿è¯´ä¸ªç©æ„å„¿
		cout &lt;&lt; &quot;Shape: I don't know my shape :( &quot; &lt;&lt; endl;
	}
}
</code></pre>
<p>åŒæ ·çš„ <code>main()</code> æ¥è¿›è¡Œæµ‹è¯•ï¼Œæ³¨æ„ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨äº†æŒ‡é’ˆæ¥å‚¨å­˜ã€‚</p>
<pre><code class="language-C++">int main() 
{
	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ã€ä¸€ä¸ªæ–¹å½¢ã€ä¸€ä¸ªä¸‰è§’å½¢å’Œä¸€ä¸ªåœ†å½¢çš„ å¯¹è±¡
	Rectangle r(4.0, 5.0);
	Triangle t;
	Circle c(2.0);

	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶
	Shape *pShape;

	// æŠŠ r èµ‹å€¼ç»™ s ç„¶åå† print
	s = &amp;r;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; r.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = &amp;t;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; t.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = &amp;c;
	s-&gt;printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; c.getArea() &lt;&lt; endl &lt;&lt; endl;

	cout &lt;&lt; endl;
	system(&quot;Pause&quot;);
	return 0;
}
</code></pre>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>Shape: 	I don't know my shape :(
			Area = 0
Shape: 	Rectangle
			Area = 20
Shape: 	Triangle
			Area = 0.5
Shape: 	Circle
			Area = 12.56
</code></pre>
<p>å‘¼ï¼Œå¤§åŠŸå‘Šæˆã€‚<br>
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç±»å‹è½¬æ¢çš„é—®é¢˜ä¾ç„¶æ— æ³•ç›´æ¥é¿å…ï¼Œæˆ‘ä»¬ä»ç„¶ä¼šå› æ­¤ä¸¢å¤±æ•°æ®ã€‚æ‰€ä»¥ä¸ºäº†è¾¾æˆå¤šæ€ï¼Œæˆ‘ä»¬ä¸€å®šè¦ç”¨æŒ‡é’ˆæ¥å‚¨å­˜æ•°æ®ã€‚</p>
<p>é”™è¯¯ç¤ºèŒƒï¼š</p>
<pre><code class="language-C++">int main() 
{
	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ã€ä¸€ä¸ªæ–¹å½¢ã€ä¸€ä¸ªä¸‰è§’å½¢å’Œä¸€ä¸ªåœ†å½¢çš„ å¯¹è±¡
	Rectangle r(4.0, 5.0);
	Triangle t;
	Circle c(2.0);

	// åˆ›å»ºä¸€ä¸ªå½¢çŠ¶
	Shape s;

	// æŠŠ r èµ‹å€¼ç»™ s ç„¶åå† print
	s = r;
	s.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; r.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = t;
	s.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; t.getArea() &lt;&lt; endl &lt;&lt; endl;

	s = c;
	s.printName();
	cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; c.getArea() &lt;&lt; endl &lt;&lt; endl;

	cout &lt;&lt; endl;
	system(&quot;Pause&quot;);
	return 0;
}
</code></pre>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
Shape: 	I don't know my shape :(
			Area = 0
</code></pre>
<p>å¦‚æœæˆ‘ä»¬æŠŠçˆ¶ç±»æ¯”ä½œçˆ·çˆ·ï¼Œå®ƒçš„å­ç±»æ¯”ä½œçˆ¸çˆ¸ï¼Œé‚£ä¹ˆå‡å¦‚è¿™ä¸ªçˆ¸çˆ¸å­ç±»ä¹Ÿæœ‰è‡ªå·±çš„å­ç±»ï¼ˆä¹Ÿå°±æ˜¯å­™å­å­ç±»ï¼‰çš„è¯ï¼Œå› ä¸ºåœ¨çˆ·çˆ·é‡Œé¢å·²ç»æŠŠå‡½æ•°æ ‡æ³¨æˆ <code>virtual</code>ï¼Œæˆ‘ä»¬å³ä¾¿ä¸åœ¨çˆ¸çˆ¸è¿™ä¸ªå­ç±»ä¸­æ ‡æ³¨è¿™ä¸ªå‡½æ•°ä¸º <code>virtual</code> ï¼Œå­™å­å­ç±»ä¾ç„¶èƒ½æ­£ç¡®è¯†åˆ«é‚£æ˜¯ä¸€ä¸ª <code>virtual</code> å‡½æ•°ã€‚å½“ç„¶æƒ³è¦ç‰¹å®šæ ‡æ³¨å‡ºæ¥ä¹Ÿæ˜¯å…è®¸ä¸”æ¨èçš„ã€‚<strong>æ‰€æœ‰åœ¨çˆ¶ç±»ä¸­è¢«æ ‡æ³¨æˆ virtual çš„å‡½æ•°å¿…é¡»è¢«å­ç±»é‡å®šä¹‰ã€‚</strong></p>
<p><code>virtual</code> çš„å·¥ä½œæ–¹å¼å¤§æ¦‚å¯ä»¥ç†è§£ä¸ºå½“ä¸€ä¸ª <code>Shape*</code> æ‰¾åˆ°å…¶å‚¨å­˜åœ°å€å¯¹åº”çš„å¯¹è±¡åï¼Œå¦‚æœè¢«è°ƒç”¨çš„å‡½æ•°è¢«æ ‡è®°ä¸º <code>virtual</code>ï¼Œæˆ‘ä»¬å°±ä¼šåˆ°å¯¹è±¡å½’å±å­ç±»ä¸­çš„ vftable å¯»æ‰¾å¯¹åº”çš„å‡½æ•°ï¼Œè€Œä¸æ˜¯åœ¨çˆ¶ç±»çš„ vftable ä¸­å¯»æ‰¾ã€‚</p>
<p>åˆ©ç”¨ <code>typedef</code> æˆ‘ä»¬å¯ä»¥æ›´æ–¹ä¾¿çš„å†™å‡ºæŒ‡é’ˆæ•°ç»„ã€‚</p>
<pre><code class="language-C++">typedef Shape* ShapePtr;

// ...

int main() 
{
	const int size = 5;
	ShapePtr *myShape = new ShapePtr[size];
	myShape[0] = Rectangle(4.0, 5.0);
	myShape[1] = Triangle();
	myShape[2] = Circle(2.0);
	myShape[3] = Shape();
	myShape[4] = Circle(2.8);

	for (int i = 0; i &lt; SIZE; i++)
	{
		myShape[i].printName();
		cout &lt;&lt; &quot;\tArea = &quot; &lt;&lt; myShape[i].getArea() &lt;&lt; endl &lt;&lt; endl;
	}
	cout &lt;&lt; endl;
	system(&quot;Pause&quot;);
	return 0;
}
</code></pre>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>Shape: 	Rectangle
			Area = 20

Shape: 	Triangle
			Area = 0.5

Shape: 	I don't know my shape :(
			Area = 0

Shape: 	Circle
			Area = 12.56
</code></pre>
<h2 id="destructorææ„å‡½æ•°ä¸polymorphismå¤šæ€">Destructorï¼ˆææ„å‡½æ•°ï¼‰ä¸Polymorphismï¼ˆå¤šæ€ï¼‰</h2>
<p>æƒ³è±¡ä¸€ä¸ª A -&gt; B -&gt; C çš„çº¿æ€§ç»§æ‰¿å…³ç³»ã€‚åœ¨æ¯ä¸€ä¸ª class ä¸­æˆ‘ä»¬éƒ½å£°æ˜äº†å®ƒä»¬å„è‡ªçš„ææ„å‡½æ•°ã€‚å½“æˆ‘ä»¬è°ƒç”¨ C çš„ææ„å‡½æ•°çš„æ—¶å€™ï¼Œç¨‹åºå°†ä¼šè‡ªåŠ¨è°ƒç”¨ C çš„ææ„å‡½æ•°åé©¬ä¸Šè°ƒç”¨ B çš„ææ„å‡½æ•°ï¼Œç»“æŸåç¨‹åºå†è°ƒç”¨ A çš„ææ„å‡½æ•°ï¼Œè¿™æ˜¯ C ç±»å‹å¯¹è±¡çš„ææ„æ˜¯å……åˆ†çš„ã€‚ä½†å½“æˆ‘ä»¬æœ‰ä¸€ä¸ª A ç±»å‹çš„æŒ‡é’ˆæŒ‡å‘ C ç±»å‹çš„å¯¹è±¡çš„æ—¶å€™ <code>A *x = new C();</code> ï¼Œå½“æˆ‘ä»¬ææ„ x çš„æ—¶å€™ï¼Œæ ¹æ®æˆ‘ä»¬æåˆ°çš„åŸå› ï¼Œå®ƒå°†åªä¼šè°ƒç”¨ A ç±»å‹çš„ææ„å‡½æ•°ã€‚ä¸ºäº†ææ„å‡½æ•°çš„å……åˆ†æ‰§è¡Œï¼Œæˆ‘ä»¬å¿…é¡»æŠŠçˆ¶ç±»ä¸­æ‰€æœ‰çš„ææ„å‡½æ•°éƒ½è®¾ä¸º <code>virtual</code>ã€‚</p>
<h2 id="abstract-classesæŠ½è±¡ç±»å‹">Abstract Classesï¼ˆæŠ½è±¡ç±»å‹ï¼‰</h2>
<p>å›åˆ°æˆ‘ä»¬ <code>Shape</code> çš„ä¾‹å­å½“ä¸­ã€‚å¯¹äº  <code>Shape</code> æœ‰çš„æ—¶å€™æˆ‘ä»¬å¹¶ä¸çŸ¥é“åœ¨åƒ <code>.getArea()</code> è¿™æ ·çš„å‡½æ•°å½“ä¸­å¡«å†™ä»€ä¹ˆå†…å®¹ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å€¾å‘äºæŠŠå®ƒç•™ç©ºã€‚åŒæ—¶å› ä¸ºå®ƒæœ‰ <code>float</code> çš„è¿”å›ç±»å‹ï¼Œæˆ‘ä»¬ä¸å¯ä»¥åªç•™ä¸€ä¸ªç©ºç™½çš„å‡½æ•°ä½“ã€‚C++æä¾›äº†ä¸€ç§å«åš Pure Virtual Functionï¼ˆçº¯è™šæ‹Ÿå‡½å¼ï¼‰çš„åŠŸèƒ½ï¼šå½“ä¸€ä¸ªå‡½æ•°è¢«æ ‡è®°ä¸º <code>virtual</code> çš„æ—¶å€™ï¼Œåªéœ€è¦ä¸ºè¿™ä¸ªå‡½æ•°èµ‹å€¼ 0 ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åœ¨å‡½æ•°ä½“å½“ä¸­å¡«å†™ä»»ä½•çš„å†…å®¹ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªçˆ¶ç±»ç§°ä¹‹ä¸º<strong>æŠ½è±¡ç±»å‹</strong>ã€‚å…³äºæŠ½è±¡ç±»å‹éœ€è¦æ³¨æ„çš„æ˜¯</p>
<ul>
<li>æ‰€æœ‰çš„çº¯è™šæ‹Ÿå‡½å¼éƒ½å¿…é¡»åœ¨å­ç±»å½“ä¸­é‡å®šä¹‰ï¼›</li>
<li>å¦‚æœä¸€ä¸ªçˆ¶ç±»åŒ…å«æœ‰ä»»ä½•çš„çº¯è™šæ‹Ÿå‡½å¼ï¼Œæˆ‘ä»¬å°±ä¸èƒ½åˆ©ç”¨è¿™ä¸ªçˆ¶ç±»åˆ›å»ºä»»ä½•å¯¹è±¡ï¼Œä»è€Œé˜²æ­¢è°ƒç”¨æ²¡æœ‰ä»»ä½•å‡½æ•°ä½“çš„å‡½æ•°ã€‚</li>
</ul>
<p>æŠ½è±¡ç±»å‹å‡ ä¹å”¯ä¸€çš„ä½œç”¨å°±æ˜¯ä½œä¸ºæ•°ç»„çš„ç±»å‹å­˜åœ¨ï¼ˆæ¯”å¦‚ <code>Shape</code>ï¼‰ã€‚å½“ä½ æŠŠä¸€ä¸ªç±»å½“ä¸­æ‰€æœ‰çš„å‡½æ•°éƒ½æ ‡è®°ä¸ºçº¯è™šæ‹Ÿå‡½å¼çš„æ—¶å€™æˆ‘ä»¬å°±æŠŠè¿™ä¸ªç±»ç§°ä¸º interfaceï¼ˆæ¥å£ / ç•Œé¢ï¼‰ã€‚</p>
<p>æœ€åç»“åˆæ‰€æœ‰çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ç»ˆæç‰ˆçš„ <code>Shape</code> å¦‚ä¸‹ï¼š</p>
<pre><code class="language-C++">class Shape
{
public:
	virtual float getArea() const = 0;
	void printName() const = 0;
}
</code></pre>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">Next post</div>
                                <a href="https://jenkinsxu.github.io/post/object-oriented-design-software-creation-phases-part-1/">
                                    <h3 class="post-title">
                                        Object Oriented Design - Software Creation Phases - Part 1
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- è¿”å›é¡¶éƒ¨ -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%A4%9A%E6%80%81%E7%9A%84%E4%BD%9C%E7%94%A8%E4%B8%8E%E6%83%85%E6%99%AF">å¤šæ€çš„ä½œç”¨ä¸æƒ…æ™¯</a></li>
<li><a href="#destructor%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E4%B8%8Epolymorphism%E5%A4%9A%E6%80%81">Destructorï¼ˆææ„å‡½æ•°ï¼‰ä¸Polymorphismï¼ˆå¤šæ€ï¼‰</a></li>
<li><a href="#abstract-classes%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%9E%8B">Abstract Classesï¼ˆæŠ½è±¡ç±»å‹ï¼‰</a></li>
</ul>
</li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
<div>Icons made by <a href="https://www.flaticon.com/authors/eucalyp" title="Eucalyp">Eucalyp</a> from <a href="https://www.flaticon.com/"             title="Flaticon">www.flaticon.com</a></div></p>
</footer>


    <!-- jQuery -->
<script src="https://jenkinsxu.github.io/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://jenkinsxu.github.io/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://jenkinsxu.github.io/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://jenkinsxu.github.io/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://jenkinsxu.github.io/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://jenkinsxu.github.io/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://jenkinsxu.github.io/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // ä»£ç é«˜äº®
    hljs.initHighlightingOnLoad();

    // img æ‡’åŠ è½½
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // æ‡’åŠ è½½åŠ¨ç”»
            threshold: 180  // åœ¨å›¾ç‰‡è·ç¦»å±å¹•180pxæ—¶æå‰è½½å…¥
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // ç›®å½•
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
</script>




</body>
</html>
